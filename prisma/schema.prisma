generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Brand {
  id   Int    @id @default(autoincrement())
  name String @unique
  type VehicleType
  cars CarModel[]
  planes PlaneModel []
  boats BoatModel []
}

enum VehicleType {
  CAR
  PLANE
  BOAT
  // Add other vehicle types as needed
}

model CarModel {
  id           Int      @id @default(autoincrement())
  name         String @unique
  brand        Brand @relation(fields: [brandId], references: [id])
  brandId      Int
  year         Int
  type         VehicleType
  // Car-specific attributes
  engineSize   Float
  numberOfDoors Int
  carPublications CarPublication[]
}

model PlaneModel {
  id           Int      @id @default(autoincrement())
  name         String @unique
  brand        Brand @relation(fields: [brandId], references: [id])
  brandId      Int
  year         Int
  type         VehicleType
  // Plane-specific attributes
  wingspan     Float
  maxAltitude  Float
  planePublications PlanePublication[]
}

model BoatModel {
  id           Int      @id @default(autoincrement())
  name         String @unique
  brand        Brand @relation(fields: [brandId], references: [id])
  brandId      Int
  year         Int
  type         VehicleType
  // Boat-specific attributes
  lengthInFeet Float
  beamInFeet   Float
  draftInFeet  Float
  boatPublications BoatPublication[]
}

model CarPublication {
  id       Int    @id @default(autoincrement())
  car      CarModel    @relation(fields: [carModelId], references: [id])
  carModelId    Int
  mileage  Float
  // Car-specific publication attributes
  price    Float
}

model PlanePublication {
  id          Int      @id @default(autoincrement())
  plane       PlaneModel    @relation(fields: [planeModelId], references: [id])
  planeModelId     Int
  mileage     Float
  // Plane-specific publication attributes
  fuelCapacity Float
}

model BoatPublication {
  id         Int      @id @default(autoincrement())
  boat       BoatModel    @relation(fields: [boatModelId], references: [id])
  boatModelId     Int
  mileage    Float
  // Boat-specific publication attributes
  capacity   Int
}